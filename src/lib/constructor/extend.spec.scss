@import "../assert";
@import "--spec--/--test-costructor";
@import "extend";

@include assert("extend: derrives a constructor", (
    is-constructor(extend(constructor(--test-constructor), $--test-constructor)) is-true,
));

@include assert("extend: should throw if $super == $constructor", (
    (extend, $--test-constructor, $--test-constructor) throws
        "Error: <constructor test> cannot extend itself",
));

@include assert("extend: should throw if the passed constructor already extends another one", (
    (extend, $--test-constructor, $--test-constructor2) throws
        "Error: <constructor test> cannot extend <constructor test2>. It already extends <constructor base>",
));

@include assert("extend: should throw ArgumentError if invalid arguments passed", (
    (extend, null, null) throws "ArgumentError: Invalid argument `$constructor` of `extend($constructor: constructor, $super: constructor)`. Expected value of constructor, instead given null",
    (extend, $--test-constructor, null) throws "ArgumentError: Invalid argument `$super` of `extend($constructor: constructor, $super: constructor)`. Expected value of constructor, instead given null",
));