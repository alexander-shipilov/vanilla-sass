@import "../assert";
@import "--spec--/--test-costructor";
@import "instance-of";
@import "new";

@include assert("instance-of: checks whether passed value is an instance of the given constructor", (
    instance-of(new($--test-constructor), $--test-constructor) is-true,
    instance-of(new($--test-constructor2), $--test-constructor2) is-true,
    instance-of(new($--test-constructor2), $--test-constructor) is-true,
    instance-of(1, $--test-constructor) is-false,
    instance-of(null, $--test-constructor) is-false,
));

@include assert("instance-of: should return true if the passed value is derived constructor of the given one", (
    instance-of($--test-constructor2, $--test-constructor) is-true,
    instance-of($--test-constructor, $--test-constructor2) is-false,
));

@include assert("instance-of: should throw ArgumentError if invalid arguments passed", (
    (instance-of) throws "ArgumentError: Invalid argument `$constructor` of `instance-of($value: any, $constructor: constructor)`. Expected value of constructor, instead given null",
));