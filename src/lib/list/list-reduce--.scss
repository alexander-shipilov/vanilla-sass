@import "../core/throw";
@import "../func/func-call--";
@import "list-slice--";

/// Unsafe list-reduce()
/// @group list
/// @see list-reduce
@function list-reduce--($list, $callback, $initial: null, $other...) {
    $value: $initial;

    @if ($value == null) {
        $value: nth($list, 1);
        $list: list-slice--($list, 2);
    }

    $length: length($list);
    @if ($length > 0) {
        @for $index from 1 through $length {
            $value: func-call--(($callback, $value), nth($list, $index), $index);
        }
    }

    @return $value;
}