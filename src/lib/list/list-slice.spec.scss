@import "../assert";
@import "list-slice";

@include assert("list-slice: returns a portion of a list selected from begin to end (end not included)", (
    list-slice((1, 2, 3)) equal (1, 2, 3),
    list-slice((1, 2, 3), 1) equal (1, 2, 3),
    list-slice((1, 2, 3), 2) equal (2, 3),
    list-slice((1, 2, 3), 1, 2) equal (1,),
    list-slice((1, 2, 3), 1, 3) equal (1, 2),
    list-slice((1, 2, 3), 2, 3) equal (2,),
    list-slice((foo: 1, bar: 2), 2) equal ((bar, 2),),
));

@include assert("list-slice: should support negative start / end", (
    list-slice((1, 2, 3), -1) equal (3,),
    list-slice((1, 2, 3), -2) equal (2, 3),
    list-slice((1, 2, 3), -3, -2) equal (1,),
    list-slice((1, 2, 3), -1, -1) equal (()),
    list-slice((1, 2, 3), 1, -1) equal (1, 2)
));

@include assert("list-slice: should support out of range start / end", (
    list-slice((), 1) equal (),
    list-slice((), -1, 1) equal (),
    list-slice((1, 2, 3), 0) equal (1, 2, 3),
    list-slice((1, 2, 3), 0, 0) equal (),
    list-slice((1, 2, 3), 0, 100) equal (1, 2, 3),
));

@include assert("list-slice: should throw ArgumentError if invalid params passed", (
    (list-slice, 1) throws "ArgumentError: Invalid argument `$list` of `list-slice($list: one-of([list, map]), $from: ?number, $to: ?number)`. Expected value of one-of([list, map]), instead given { number } 1",
    (list-slice, (), foo) throws "ArgumentError: Invalid argument `$from` of `list-slice($list: one-of([list, map]), $from: ?number, $to: ?number)`. Expected value of ?number, instead given { string } foo",
    (list-slice, (), 1, foo) throws "ArgumentError: Invalid argument `$to` of `list-slice($list: one-of([list, map]), $from: ?number, $to: ?number)`. Expected value of ?number, instead given { string } foo",
));