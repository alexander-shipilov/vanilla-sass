@import "../assert";
@import "../constructor/instance-of";
@import "../func/func-arglist";
@import "let";
@import "var-get";
@import "var-set";

@include assert("let($value, $type?) creates a constant", (
  instance-of(let(foo), global(var)) is-true,
  var-get(let(foo)) equal foo,
));

@include assert("let($value, $type?) should throw a TypeError if type of $value missmatched", (
    (let, foo, number) throws "TypeError: Invalid variable value. Expected value of number, instead given { string } foo",
));

@include assert("var-set(let($value, $type?), ...) should modify variable value", (
    var-get(var-set(let(foo), bar)) equal bar,
));

@include assert("let(): should throw ArgumentError if invalid params passed", (
    (let, null, 1) throws "ArgumentError: Invalid argument `$type` of `let($value: any, $type: type)`. Expected value of type, instead given { number } 1",
));