@import "../assert";
@import "func-apply";

@function --func-apply-spec-test($args...) {
  @return $args;
}

@include assert("func-apply: calls specified callable with the passed params list", (
  func-apply(--func-apply-spec-test) equal (),
  func-apply(--func-apply-spec-test, ()) equal (),
  func-apply(--func-apply-spec-test, (1, 2)) equal (1, 2),
  func-apply((--func-apply-spec-test, 1, 2), (3, 4)) equal (1, 2, 3, 4),
  func-apply(((--func-apply-spec-test, 1, 2), 3, 4), (5, 6)) equal (1, 2, 3, 4, 5, 6),
));

@include assert("func-apply: should throw ArgumentError if invalid params passed", (
    (func-apply, 1) throws "ArgumentError: Invalid argument `$callable` of `func-apply($callable: callable, $args: ?list)`. Expected value of callable, instead given { number } 1",
    (func-apply, --func-apply-spec-test, 1) throws "ArgumentError: Invalid argument `$args` of `func-apply($callable: callable, $args: ?list)`. Expected value of ?list, instead given { number } 1",
));